{% extends 'base.html.twig' %}
{% block title %}Liste des Utilisateurs{% endblock %}
{% block body %}
<link rel="stylesheet" href={{ asset('CSS/Admin.css') }}>

{% include 'partials/_navCompte.html.twig' %}
<h1>Liste des Utilisateurs</h1>

<table class="liste_utilisateurs">
    <thead>
        <tr>
            {# <th>Id</th>
            <th>Nom</th>
            <th>Prenom</th>
            <th>Email</th>
            <th>Adresse</th>
            <th>Code Postale</th>
            <th>Ville</th>
            <th>Telephone</th>
            <th>Role</th>
            <th>Modifier</th>
            <th>Details</th> #}
        </tr>
    </thead>
    <tbody>
    {% for utilisateur in Utilisateurs %}
        <tr>
            <td>
                <div data-test-id="{{ utilisateur.id }}"><strong>Id:</strong> {{ utilisateur.id }}</div>
            </td>
            <td>
                <div data-test-nom="{{ utilisateur.nom }}"><strong>Nom:</strong> {{ utilisateur.nom }}</div>
            </td>
            <td>
                <div data-test-prenom="{{ utilisateur.prenom }}"><strong>Prénom:</strong> {{ utilisateur.prenom }}</div>
            </td>
            <td>
                <div data-test-email="{{ utilisateur.email }}"><strong>Email:</strong> {{ utilisateur.email }}</div>
            </td>
            <td>
                <div data-test-adresse="{{ utilisateur.adresse }}"><strong>Adresse:</strong> {{ utilisateur.adresse }}</div>
            </td>
            <td>
                <div data-test-cp="{{ utilisateur.cp }}"><strong>Code Postal:</strong> {{ utilisateur.cp }}</div>
            </td>
            <td>
                <div data-test-ville="{{ utilisateur.ville }}"><strong>Ville:</strong> {{ utilisateur.ville }}</div>
            </td>
            <td>
                <div data-test-telephone="{{ utilisateur.telephone }}"><strong>Téléphone:</strong> {{ utilisateur.telephone }}</div>
            </td>
            <td>
                <div data-test-role="{{ utilisateur.roles ? utilisateur.roles|json_encode : '' }}"><strong>Rôle:</strong> {{ utilisateur.roles ? utilisateur.roles|json_encode : '' }}</div>
            </td>
            <td>
                <div><strong>Modifier:</strong> 
                    <a href="{{ path('Administrateur_ModifUtilisateur', {'id': utilisateur.id}) }}" data-test-modifier>Modifier</a>
                </div>
            </td>
            <td>
                <div><strong>Détails:</strong> 
                    <a href="{{ path('Administrateur_DetailUtilisateur', {'id': utilisateur.id}) }}">Details</a>
                </div>
            </td>
        </tr>
    {% else %}
        <tr>
            <td colspan="11" class="CommandesVide">Aucun utilisateur trouvé</td>
        </tr>
    {% endfor %}
    </tbody>
</table>

<div class="NouveauUtilisateur">
    <a href="{{ path('Administrateur_AjoutUtilisateur') }}">Ajouter un Utilisateur</a>
</div>
{% endblock %}
